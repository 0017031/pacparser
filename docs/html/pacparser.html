<html>
<head>
<style type='text/css'><!--
body{
  width: 800px;
}
pre{
  color: #006000;
  border-top-width: 1px;
  border-right-width: 1px;
  border-bottom-width: 1px;
  border-left-width: 1px;
  border-top-style: solid;
  border-right-style: solid;
  border-bottom-style: solid;
  border-left-style: solid;
  border-top-color: #a9cef1;
  border-right-color: #a9cef1;
  border-bottom-color: #a9cef1;
  border-left-color: #a9cef1;
  overflow-x: auto;
  overflow-y: auto;
  background-color: #e0eaf4;
  padding-left: 1em;
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  line-height: 1.4em;
}
--></style>
</head>
<body>
<h3>Using pacparser in C:</h3>

<p>
Determining proxy string for a set of PAC file, URL and host is as easy as:
</p>

<pre>
#include &lt;pacparser.h&gt;
char *proxystring = <a href="pacparser_just_find_proxy.3.html">pacparser_just_find_proxy</a>("examples/wpad.dat",
                                              "http://www.manugarg.com",
                                              "www.manugarg.com")
</pre>

<p>
This function initializes javascript context, loads pac file, determines
proxy and finally destroys javascript context.
</p>
<p>
As you can see, if you want to find out proxy string for multiple URLs, this is
not the recommended method. In that case, you first
</p><p>
a) initialize pac parser engine:
</p>
<pre>
#include &lt;pacparser.h&gt;
<a href="pacparser_init.3.html">pacparser_init()</a>
</pre>
<p>
and then,
</p><p>
b) parse pac file:
</p>
<pre>
if(!<a href="pacparser_parse_pac.3.html">pacparser_parse_pac</a>("examples/wpad.dat")){
  error("could not parse pac file");
}
</pre>
<p>
c) determine proxy string for a URL:
</p>
<pre>
char *proxystring = <a href="pacparser_find_proxy.3.html">pacparser_find_proxy</a>("http://www.manugarg.com", "www.manugarg.com");
</pre>
<p>d) do other things and find proxy for another URL:
</p>
<pre>
...
proxystring = <a href="pacparser_find_proxy.3.html">pacparser_find_proxy</a>("http://www.google.com", "www.google.com");
</pre>
<p>e) do some other things and in the end shutdown pacparser engine:
</p>
<pre>
...
<a href="pacparser_cleanup.3.html">pacparser_cleanup</a>()
</pre>

<h3>Using pacparser in Python:</h3>
<p>
pacparser shared library can be used in python programs directly using <a
  href="http://python.net/crew/theller/ctypes/">ctypes</a> module. If pacparser
shared library is in your library search path (/lib, /usr/lib etc on Unix-like
system and system path on Windows systems), you can use it in python programs
as follows:
</p>
<pre>
from ctypes import *
</pre>
<p>
Load library on Linux:
</p>
<pre>
pp = CDLL("libpacparser.so")
</pre>
<p>
And on Windows:
</p>
<pre>
pp = cdll.pacparser
</pre>
<p>
Once loaded as an object, pacparser functions can be called directly as:
</p>
<pre>
pp.pacparser_init()
pp.pacparser_parse_pac("examples/wpad.dat")
proxy_a = pp.pacparser_find_proxy("http://www.manugarg.com",
                                  "www.manugarg.com")
print string_at(proxy_a)
pp.pacparser_cleanup()
</pre>
<p>Or, simply just</p>
<pre>
print string_at(pacparser_just_find_proxy("examples/wpad.dat",
                                          "http://www.manugarg.com",
                                          "www.manugarg.com")
</pre>
</body>
</html>
